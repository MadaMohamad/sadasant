// Shade.js
// by Daniel Rodr√≠guez
// http://sadasant.com/license
(function(e,t,n){function r(e){return e===n||e===null?e:Object.prototype.toString.call(e).slice(8,-1)}function i(){var t=e.localStorage||{};this.get=function(e){return t[e]?JSON.parse(t[e]):t[e]},this.set=function(e,n){if(!n)return!1;t[e]=r(n)==="String"?n:JSON.stringify(n)},this.drop=function(e){for(e in t)delete t[e]}}function s(e,i){i=i||t;var o=r(i),u=e.split(" "),a=u.shift(),f=u.join(" "),l=0,c=[],h;if(!~o.indexOf("HTML")||o==="HTMLCollection"&&!i.length)return;switch(a[0]){case".":i=i.getElementsByClassName(a.slice(1));break;case"#":i=i.getElementById(a.slice(1));break;default:i=i.getElementsByTagName(a)}if(f.length){if(i.length){c=[];for(;i[l];l+=1)h=s(f,i[l]),h.length?c=c.concat(h):h.name!==n&&(c[c.length]=h);l=0,i=[];for(;c[l];l+=1)i=i.concat(c[l]);return i}return s(f,i)}return i.length?i.length===1?i[0]:c.slice.call(i):i}function o(e,t){return t.classList?t.classList.contains(e):!!~t.className.indexOf(e)}function u(e,t){t.classList?t.classList.add(e):t.className+=" "+e+" "}function a(e,t){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp(e,"g"),"")}function f(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function l(e){var t=[],n;for(n in e)t[t.length]=encodeURIComponent(n)+"="+encodeURIComponent(e[n]);return t.join("&")}function c(e,t,n,i,s){var o=new XMLHttpRequest,u=4,a,f;for(;;u--){f=arguments[u];if(f&&r(f)==="Function"){s=f;break}}o.onreadystatechange=function(){o.readyState===4&&r(s)==="Function"&&s(o.status<300,o.responseText,o)},o.open(e,t,!0);if(n||i&&(n={"Content-Type":"application/x-www-form-urlencoded"}))for(a in n)o.setRequestHeader(a,n[a]);return o.send(r(i)==="Object"?l(i):i),o}e.Shade={typeOf:r,db:new i,find:s,hasClass:o,addClass:u,removeClass:a,addEvent:f,http:c}})(window,document);